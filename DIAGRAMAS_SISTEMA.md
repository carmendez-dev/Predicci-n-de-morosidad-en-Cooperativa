# DIAGRAMAS DEL SISTEMA
## Flujos y Arquitectura Visual - Sistema de Predicci√≥n de Morosidad --- ## ARQUITECTURA GENERAL DEL SISTEMA ``` USUARIO (Analista de Cr√©dito) NAVEGADOR WEB Predicci√≥n Estad√≠sticas Demo Acerca (Form) (Dashboard) (Perfiles) (Info) HTTP/AJAX SERVIDOR FLASK VALIDACI√ìN ROUTING LOGGING DE DATOS & BUSINESS SISTEMA LOGIC PREDICCI√ìN ENGINE Preprocessor ML Model Risk Classifier (Sklearn) (Reg.Logic.) & Recommender ALMACENAMIENTO MODELOS LOGS DATASET REPORTES .joblib .json .csv .json/.png (Pipeline) (Predicciones (Training) (M√©tricas) ``` --- ## FLUJO DE PREDICCI√ìN DETALLADO ```
INICIO Usuario accede al formulario (/index) Llena datos del Validaci√≥n solicitante Frontend (17 campos) (JavaScript) Env√≠a petici√≥n AJAX POST /predecir Validaci√≥n Muestra errores Backend en pantalla (Python) Cargar modelo ML desde .joblib Crear DataFrame con datos de entrada Preprocesamiento - Imputaci√≥n - Escalado - Encoding Predicci√≥n ML - predict() - predict_proba() Post-procesado - Clasificar riesgo - Generar recomendaci√≥n Guardar log de predicci√≥n (JSON) Enviar respuesta JSON al frontend Mostrar resultado - Probabilidades - Riesgo - Recomendaci√≥n FIN
``` --- ## PIPELINE DE MACHINE LEARNING ```
ENTRENAMIENTO Dataset CSV 4,000 x 18 Variables An√°lisis Exploratorio (EDA) Detecci√≥n autom√°tica target Divisi√≥n datos 70/15/15 Train/Val/Test Crear Pipeline Preprocessing Num√©ricas: ‚Ä¢ Imputer ‚Ä¢ StandardScaler Categ√≥ricas: ‚Ä¢ Imputer ‚Ä¢ OneHotEncoder Entrenamiento Modelos Base ‚Ä¢ Reg. Log√≠stica ‚Ä¢ Random Forest Evaluaci√≥n en Validaci√≥n M√©tricas: ‚Ä¢ F1-Score ‚Ä¢ Precision ‚Ä¢ Recall ‚Ä¢ ROC-AUC Selecci√≥n Mejor Modelo (F1-Score) Optimizaci√≥n Hiperpar√°metros RandomizedSearchCV: ‚Ä¢ 30 iteraciones ‚Ä¢ 5-fold CV ‚Ä¢ F1 scoring Evaluaci√≥n Final en TEST ‚Ä¢ Matriz confus. ‚Ä¢ ROC Curve ‚Ä¢ Feature Imp. An√°lisis Overfitting & Validaci√≥n Cruzada Guardar ‚Ä¢ modelo.joblib ‚Ä¢ m√©tricas.json ‚Ä¢ gr√°ficos.png MODELO LISTO
``` --- ## FLUJO DE DATOS EN TIEMPO REAL ```
DASHBOARD ESTAD√çSTICAS Timer 30s Petici√≥n AJAX /api/estadisticas Leer archivo logs/predicciones _YYYYMMDD.json Procesar datos - Contar total - Morosos/No - Probabilidades - Timestamp Generar JSON respuesta Actualizar UI - Cards stats - Gr√°fico barras - √öltima pred. Loop continuo
``` --- ## ARQUITECTURA DE VALIDACI√ìN ```
ENTRADA DE DATOS FRONTEND VALIDATION ‚Ä¢ Campos req. ‚Ä¢ Tipos datos ‚Ä¢ Rangos nums. ‚Ä¢ Opciones sel. ‚Ä¢ Formato BACKEND VALIDATION ‚Ä¢ Verificar campos req. ‚Ä¢ Conversi√≥n tipos ‚Ä¢ Validar rangos ‚Ä¢ Opciones categ√≥ricas ‚Ä¢ Sanitizaci√≥n MODEL VALIDATION ‚Ä¢ Shape check ‚Ä¢ Feature names ‚Ä¢ Data types ‚Ä¢ NaN handling ‚Ä¢ Preprocessing pipeline PREDICTION READY ``` --- ## COMPONENTES DE LA INTERFAZ ```
P√ÅGINA PRINCIPAL (/) HEADER Sistema de Predicci√≥n de Morosidad - Ahorro Valle Modelo: model_pipeline_final_TIMESTAMP.joblib NAVEGACI√ìN [Predicci√≥n] [Estad√≠sticas] [Demo] [Acerca de] FORMULARIO DATOS LABORAL CREDITICIO PERSONALES ‚Ä¢ Edad ‚Ä¢ Tipo empleo ‚Ä¢ Score ‚Ä¢ G√©nero ‚Ä¢ Antig√ºedad ‚Ä¢ Pagos prev. ‚Ä¢ Zona ‚Ä¢ Ingresos ‚Ä¢ Cr√©ditos prev. CR√âDITO GARANT√çAS ECON√ìMICAS SOLICITADO ‚Ä¢ Monto ‚Ä¢ Tipo ‚Ä¢ Precio soya ‚Ä¢ Plazo ‚Ä¢ Valor ‚Ä¢ Precio vino ‚Ä¢ Destino ‚Ä¢ Uso productos [ Predecir] [ Limpiar] RESULTADO EVALUACI√ìN: [NO MOROSO] üü¢ Prob. No Moroso: 72.3% Prob. Moroso: 27.7% Nivel Riesgo: [MEDIO] üü° Recomendaci√≥n: Cliente de riesgo bajo-medio. Se recomienda aprobar con condiciones est√°ndar. 2025-10-27 16:57:03 [ Nueva] [ Imprimir] ``` --- ## DASHBOARD DE ESTAD√çSTICAS ```
P√ÅGINA ESTAD√çSTICAS (/estadisticas) ESTAD√çSTICAS Panel de Control - Ahorro Valle M√âTRICAS DEL D√çA 25 18 7 23.4% Total No Morosos Morosos Riesgo Predicciones Promedio DISTRIBUCI√ìN DE PREDICCIONES No Morosos (72%) Morosos (28%) Total de Evaluaciones: 25 √öltima predicci√≥n: 2025-10-27 16:57:03 [ Actualizar] ``` --- ## CICLO DE VIDA DEL MODELO ```
DESARROLLO Recolecci√≥n de Datos (Dataset CSV) An√°lisis Exploratorio & Limpieza Entrenamiento & Validaci√≥n (Cross-Val) Optimizaci√≥n Hiperpar√°metros (Grid/Random) Evaluaci√≥n Final (Test Set) PRODUCCI√ìN Despliegue Modelo (.joblib) Monitoreo Performance (Logs/Stats) Performance Evaluaci√≥n Degraded Performance Reentrenamiento con Nuevos Datos DESARROLLO (Ciclo) Mantenimiento Continuo ``` --- ## FLUJO DE SEGURIDAD ```
REQUEST SECURITY FLOW Usuario Navegador Servidor Modelo Respuesta Input Frontend Backend Model Output ValidationValidationValidationValidationSanitization ‚Ä¢ Req ‚Ä¢ Types ‚Ä¢ Fields ‚Ä¢ Shape ‚Ä¢ Clean ‚Ä¢ Format ‚Ä¢ Range ‚Ä¢ Convert ‚Ä¢ Names ‚Ä¢ Safe ‚Ä¢ Length ‚Ä¢ XSS ‚Ä¢ Sanit. ‚Ä¢ NaN ‚Ä¢ Log SECURITY CHECKPOINTS PASSED ‚Üì SAFE PREDICTION
``` --- * Estos diagramas complementan la documentaci√≥n t√©cnica y proporcionan una vista visual de los procesos y flujos del sistema.* **√öltima actualizaci√≥n:** 27 de Octubre, 2025